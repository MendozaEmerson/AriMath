{% load bootstrap5 %}
{% bootstrap_css %}

{% include "../../page/header.html" %}

{% include "../../page/navbar.html" %}


<div class="container">
    <div class="d-flex justify-content-center h2 p-3">
    METODO DE NEWTON RAPHSON
    </div>
    <div class="d-flex justify-content-center label p-2">
    Recuerda usar bien los paréntesis y que los exponentes se 
    escriben con Ejemplo: 2*x**3 se lee: Dos equis al cubo:
    </div>
    
    <form class="mt32" method='POST' action='' id="my_form">
        {% csrf_token %}
        <div class="form-group row">
            <label for="fname" class="control-label col-sm-2">Función</label>
            <div class="col-sm-10">
                <input name="funcion" type="text" class="form-control" 
                {% if funcion %} 
                    value={{funcion}} 
                {% endif %}  
                required>
            </div>
        </div>
        <div class="form-group row">
            <label for="lname" class="control-label col-sm-2">PuntoXn</label>
            <div class="col-sm-10">
                <input name="punto" type="number" class="form-control"
                {% if punto %} 
                    value={{punto}} 
                {% endif %}  
                required>
            </div>
        </div>
       
        <div class="form-group row">
            <label for="email" class="control-label col-sm-2">Error</label>
            <div class="col-sm-10">
                <input name="error" type="number" step=".0000001" class="form-control" 
                {% if err %} 
                    value={{err}} 
                {% endif %}  
                required>            
            </div>
        </div>
        
        <div class="form-group row">
            <label for="password" class="control-label col-sm-2">Pasos</label>
            <div class="col-sm-10">
                <input name="pasos" type="text" class="form-control" 
                {% if pasos %} 
                    value={{pasos}} 
                {% endif %}  
                required>
            </div>
        </div>
        <div class="col text-center">
            <button class="btn btn-dark" type="submit">Calcular </button>
        </div>
    </form>

{% if error %}
<div class="d-flex justify-content-center h2 p-3">
    {{ error }}
    </div>
{% endif %}

{% if iteraciones %}

<table class="table">
    <thead class="thead-dark">
        <tr>
          <th scope="col">Iteracion</th>
          <th scope="col">x0</th>
          <th scope="col">f(x0)</th>
          <th scope="col">x1</th>
          <th scope="col">f(x1)</th>
        </tr>
      </thead>
<tbody>
        
{% for a in iteraciones %}

<tr>
    <th scope="row">{{ a.0 }}</th>
    <td>{{ a.1 }}</td>
    <td>{{ a.2 }}</td>
    <td>{{ a.3 }}</td>
    <td>{{ a.4 }}</td>
</tr>

{% endfor %}

</tbody>
</table>

{% endif %}

{% if resultado %}
<div class="d-flex justify-content-center h2 p-3">
    {{ resultado }}
    </div>
{% endif %}

</div>


{% include "../../page/footer.html" %}
